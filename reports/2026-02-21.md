# Daily Report ‚Äî 2026-02-21

## Summary

TypeScript SDK bumped from v0.2.49 to v0.2.50. All pipeline steps passed. Typecheck failed on its first run due to a malformed import string in the template validation script (leading comma), but the mending agent fixed it in one pass and verify succeeded on attempt 2. The update agent documented three new Known Issues (#26‚Äì#28) and two new hook events (`WorktreeCreate`, `WorktreeRemove`). Both research agents updated Python template files to use modern typed APIs and found no new unresearched GitHub issues.

## Pipeline Status

| Step | Result | Duration | Notes |
|------|--------|----------|-------|
| Monitor | ‚úÖ success | 3s | TS v0.2.49 ‚Üí v0.2.50 detected |
| Auth | ‚úÖ success | ‚Äî | ‚Äî |
| Update | ‚úÖ success | 107s | v0.2.49 ‚Üí v0.2.50, skill files updated |
| Research (TS) | ‚úÖ success | 351s | Skill docs updated, no new unresearched issues |
| Research (PY) | ‚úÖ success | 480s | Templates modernised, no new unresearched issues |
| Typecheck | ‚ö†Ô∏è failed ‚Üí fixed | 11s | SyntaxError in import check; mending agent resolved |
| Mending (√ó1) | ‚úÖ success | ‚Äî | Fixed malformed import string |
| Verify | ‚úÖ success | 128s | Passed on attempt 2 of 2; 18 checks passed, 0 failed |
| Report | üîÑ running | ‚Äî | ‚Äî |

_Source: `/tmp/pipeline-log.json`_

## Monitor

- **Changes detected**: yes
- TypeScript SDK version bump: `0.2.49` ‚Üí `0.2.50` (npm registry)
- Python SDK: no change (v0.1.39)
- No issue state changes detected
- No new bug issues flagged

## Update Agent

**Version bump applied**: `0.2.49` ‚Üí `0.2.50`

**Files modified**:
- `.claude-plugin/plugin.json` ‚Äî description string updated
- `README.md` ‚Äî version badge updated
- `SKILL.md` ‚Äî version table updated
- `SKILL-typescript.md` ‚Äî version refs, hooks table, known issues, changelog
- `SKILL-python.md` ‚Äî hooks field table updated (PermissionRequest fields added)
- `rules/claude-agent-sdk-ts.md` ‚Äî version updated
- `scripts/check-versions.sh` ‚Äî version pin updated
- `templates/typescript/package.json` ‚Äî dependency version updated
- `agent/state.json` ‚Äî version and audit version updated

**New content added to SKILL-typescript.md**:
- Hook events: `WorktreeCreate` (worktree created) and `WorktreeRemove` (worktree removed) added to hooks table and context fields table
- Known Issue #19 updated: additional bug noted ‚Äî `Task` tool is force-allowed for subagents even when `disallowedTools: ['Task']` is set ([#189](https://github.com/anthropics/claude-agent-sdk-typescript/issues/189))
- Known Issue #26 added: Slash command output lost since v0.2.45 ([#186](https://github.com/anthropics/claude-agent-sdk-typescript/issues/186)); fix pending, downgrade to v0.2.44 as workaround
- Known Issue #27 added: Cloud MCP servers auto-discovered from claude.ai account with no way to disable ([#190](https://github.com/anthropics/claude-agent-sdk-typescript/issues/190)); dead env var guard in minified bundle
- Known Issue #28 added: Model shorthands (`'opus'`, `'sonnet'`, `'haiku'`) silently upgrade to latest model versions ([#182](https://github.com/anthropics/claude-agent-sdk-typescript/issues/182)); fix: pin full model IDs in production
- Changelog row added: v0.2.50 summary

**Verification**: Passed on attempt 2 (18/18 checks), after 1 mending run.
**Mending needed**: Yes ‚Äî typecheck flagged a SyntaxError in the template import validation script (malformed multi-line import with a leading `,` character). Mending agent corrected the import format.

## Research

### TypeScript Research
- No new unresearched GitHub issues (last scanned issue: #176, unchanged)
- Agent spent turns updating skill documentation for the v0.2.50 feature set (new hook events, new known issues) ‚Äî changes committed as part of the update agent's output above
- 60 turns

### Python Research
- No new unresearched GitHub issues (last scanned issue: #580, unchanged)
- Agent modernised all Python template files to use current typed APIs:
  - `basic_query.py` ‚Äî proper typed imports, removed `allow_dangerously_skip_permissions`
  - `client_conversation.py` ‚Äî typed message checks, removed deprecated option
  - `custom_mcp_server.py` ‚Äî tool handlers now use `args: dict[str, Any]` pattern
  - `multi_agent_workflow.py` ‚Äî `PermissionResultAllow`/`PermissionResultDeny` types, `AgentDefinition` class, updated `can_use_tool` signature
  - `permission_control.py` ‚Äî typed permission result types
  - `query_with_tools.py` ‚Äî typed tool handler and message checks
  - `sandbox_config.py` ‚Äî typed permission types, updated network config
  - `subagents_orchestration.py` ‚Äî `AgentDefinition` class used instead of plain dicts
- 73 turns

## Errors

### Typecheck ‚Äî Exit Code 1

**Last output**:
```
=== Python import resolution check ===
  File "<string>", line 1
    from claude_agent_sdk import (,AgentDefinition,ClaudeAgentOptions,...
                                  ^
SyntaxError: invalid syntax
  FAIL: Some template imports don't resolve
  FAIL:   Cannot import: (

=========================================
  Passed: 13
  Failed: 2
=========================================

TEMPLATE CHECK FAILED ‚Äî 2 issue(s)
```

**Likely cause**: The import-gathering script produced a comma-first import string (leading `,` after the opening parenthesis), resulting in invalid Python syntax when the validation script tried to execute it. This is a structural issue in how the checker assembles the import statement, not a transient error.

**Resolution**: Mending agent (attempt 1) corrected the malformed import string. Verify subsequently passed 18/18 checks.

## Cost

| Agent | Cost | Turns |
|-------|------|-------|
| Update | $0.46 | 38 |
| Mending (√ó1) | $0.35 | 17 |
| Research (TS) | $2.28 | 60 |
| Research (PY) | $2.87 | 73 |
| Report | ~$0.25 | ‚Äî |
| **Total** | **~$6.21** | |

## State

Current tracked state after today's run:

- **TypeScript SDK version**: 0.2.50
- **Python SDK version**: 0.1.39
- **Last updated**: 2026-02-21T08:02:47Z

**Tracked TypeScript issues** (24 total):
| # | Issue | State |
|---|-------|-------|
| 106 | Opaque process exited with code 1 errors | open |
| 114 | MCP server responses don't reset activity timer | open |
| 118 | MCP tool calls timeout at 5 minutes | open |
| 121 | Missing @anthropic-ai/sdk dependency | open |
| 122 | SDK MCP servers fail from concurrent query() calls | open |
| 129 | Ripgrep binary lacks execute permission on Remote SSH | open |
| 131 | MCP Config Missing type Field | open |
| 132 | Orphan Subagents | open |
| 137 | Unicode Line Separators Break JSON | open |
| 138 | Context Length Exceeded | open |
| 142 | Orphan Subagents (duplicate) | open |
| 144 | ANTHROPIC_BASE_URL via env option broken | open |
| 150 | SDK fails to discover CLI when bundled with bun build | open |
| 157 | ANTHROPIC_LOG=debug corrupts SDK protocol | open |
| 163 | AgentDefinition.tools is intersected with Options.tools | open |
| 168 | thinking: { type: 'adaptive' } silently disables thinking | open |
| 169 | HTTP MCP servers fail behind corporate proxies | open |
| 170 | permissionDecision: 'deny' causes missing tool_result | open |
| 171 | unstable_v2_createSession() doesn't support plugins option | open |
| 172 | AgentDefinition.tools and disallowedTools not enforced for subagents | open |
| 173 | Task exception during SDK cleanup: ProcessError exit code -15 (SIGTERM) | open (skipped) |
| 174 | No MCP Server Instructions support | open (skipped) |
| 175 | Agent truncates large MCP tool output to local file | open (KI #22) |
| 176 | V2 Session API ignores permissionMode/cwd/settingSources/allowedTools | open (KI #21) |

- **Last scanned TS issue**: #176
- **TypeScript known issues documented**: #2‚Äì#19, #21‚Äì#28 (24 total)

**Tracked Python issues** (21 total, mix of open/closed):
- Key open issues: #554 (hook errors KI#1), #523 (allowed_tools=[] falsy KI#2), #571/#374 (StructuredOutput KI#4), #10 (cwd ignored KI#5), #378 (Query.close() hangs KI#6), #462 (FastAPI transport KI#7), #316 (PreToolUse hooks KI#8), #573 (CLAUDECODE=1 env KI#10), #574 (search_result blocks dropped KI#11), #575 (fork session fails KI#12), #576 (ClaudeSDKClient hangs ASGI KI#13), #578 (CLIConnectionError string prompts KI#14)
- Last scanned Python issue: #580
- Python known issues documented: #1‚Äì#14

- **Total pipeline duration**: ~18 min (08:02:44 ‚Üí 08:20:56 UTC)
